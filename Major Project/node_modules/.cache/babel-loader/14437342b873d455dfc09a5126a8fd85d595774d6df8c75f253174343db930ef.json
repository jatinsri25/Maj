{"ast":null,"code":"var _jsxFileName = \"/Applications/Maj/Major Project/src/pages/Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Webcam from 'react-webcam';\nimport * as faceapi from 'face-api.js';\nimport \"./Auth.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const navigate = useNavigate();\n  const webcamRef = useRef(null);\n\n  // State for form data and face detection\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const [authStep, setAuthStep] = useState('credentials');\n  const [modelsLoaded, setModelsLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [faceDetected, setFaceDetected] = useState(false);\n  const [faceRegistered, setFaceRegistered] = useState(false);\n\n  // Load face detection models\n  const loadModels = async () => {\n    const MODEL_URL = '/models';\n    try {\n      await Promise.all([faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL), faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL), faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)]);\n      return true;\n    } catch (error) {\n      console.error('Error loading models:', error);\n      return false;\n    }\n  };\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      const success = await loadModels();\n      setModelsLoaded(success);\n      setLoading(false);\n    })();\n    return () => {\n      var _webcamRef$current;\n      if ((_webcamRef$current = webcamRef.current) !== null && _webcamRef$current !== void 0 && _webcamRef$current.video) {\n        const stream = webcamRef.current.video.srcObject;\n        stream === null || stream === void 0 ? void 0 : stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  // Capture and store face descriptor\n  const captureAndStoreFace = async () => {\n    if (!webcamRef.current) return false;\n    try {\n      const detections = await faceapi.detectSingleFace(webcamRef.current.video, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n      if (detections) {\n        localStorage.setItem('faceDescriptor', JSON.stringify(Array.from(detections.descriptor)));\n        return true;\n      }\n    } catch (error) {\n      console.error('Face capture error:', error);\n    }\n    return false;\n  };\n\n  // Handle input changes and validations (previous implementation)\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const validate = () => {\n    const newErrors = {};\n    if (!formData.name.trim()) newErrors.name = \"Name is required.\";\n    if (!formData.email.trim()) {\n      newErrors.email = \"Email is required.\";\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = \"Enter a valid email address.\";\n    }\n    if (!formData.password.trim() || formData.password.length < 6) {\n      newErrors.password = \"Password must be at least 6 characters.\";\n    }\n    return newErrors;\n  };\n\n  // Handle credentials submission\n  const handleCredentialsSubmit = e => {\n    e.preventDefault();\n    const newErrors = validate();\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n    } else {\n      setAuthStep('face');\n    }\n  };\n\n  // Handle face registration\n  const handleFaceRegistration = async () => {\n    var _webcamRef$current2;\n    if (!((_webcamRef$current2 = webcamRef.current) !== null && _webcamRef$current2 !== void 0 && _webcamRef$current2.video) || !modelsLoaded) return;\n    try {\n      const detections = await faceapi.detectSingleFace(webcamRef.current.video, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceDescriptor();\n      if (detections) {\n        // Explicitly log and store the face descriptor\n        const descriptor = Array.from(detections.descriptor);\n        console.log('Face Descriptor:', descriptor);\n        localStorage.setItem('faceDescriptor', JSON.stringify(descriptor));\n        setFaceDetected(true);\n        setFaceRegistered(true);\n\n        // Store user details\n        localStorage.setItem('userDetails', JSON.stringify(formData));\n        localStorage.setItem('token', 'mock-token');\n        localStorage.setItem('userRole', 'user');\n\n        // Navigate to dashboard\n        setTimeout(() => navigate('/dashboard'), 1500);\n      }\n    } catch (error) {\n      console.error('Face registration error:', error);\n    }\n  };\n  // Render different auth steps\n  const renderCredentialsStep = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleCredentialsSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        name: \"name\",\n        placeholder: \"Enter your name\",\n        value: formData.name,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), errors.name && /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"error-text\",\n        children: errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Enter your email\",\n        value: formData.email,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), errors.email && /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"error-text\",\n        children: errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"Enter your password\",\n        value: formData.password,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), errors.password && /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"error-text\",\n        children: errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"auth-button\",\n      type: \"submit\",\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n  const renderFaceRegistrationStep = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"face-registration-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Register Your Face\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"webcam-container\",\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        ref: webcamRef,\n        screenshotFormat: \"image/jpeg\",\n        className: \"webcam\",\n        onUserMedia: handleFaceRegistration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), faceDetected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `face-status ${faceRegistered ? 'registered' : ''}`,\n        children: faceRegistered ? 'Face Registered âœ“' : 'Detecting Face...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"auth-button secondary\",\n      onClick: () => setAuthStep('credentials'),\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create an Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), authStep === 'credentials' ? renderCredentialsStep() : renderFaceRegistrationStep(), authStep === 'credentials' && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-footer\",\n        children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link-button\",\n          onClick: () => navigate(\"/\"),\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n};\n_s(Signup, \"K6ZEKo9kooLaG28u2vEDwN5spxs=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","Webcam","faceapi","jsxDEV","_jsxDEV","Signup","_s","navigate","webcamRef","formData","setFormData","name","email","password","errors","setErrors","authStep","setAuthStep","modelsLoaded","setModelsLoaded","loading","setLoading","faceDetected","setFaceDetected","faceRegistered","setFaceRegistered","loadModels","MODEL_URL","Promise","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","error","console","success","_webcamRef$current","current","video","stream","srcObject","getTracks","forEach","track","stop","captureAndStoreFace","detections","detectSingleFace","TinyFaceDetectorOptions","withFaceLandmarks","withFaceDescriptor","localStorage","setItem","JSON","stringify","Array","from","descriptor","handleInputChange","e","value","target","validate","newErrors","trim","test","length","handleCredentialsSubmit","preventDefault","Object","keys","handleFaceRegistration","_webcamRef$current2","log","setTimeout","renderCredentialsStep","onSubmit","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","placeholder","onChange","renderFaceRegistrationStep","ref","screenshotFormat","onUserMedia","onClick","_c","$RefreshReg$"],"sources":["/Applications/Maj/Major Project/src/pages/Signup.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Webcam from 'react-webcam';\nimport * as faceapi from 'face-api.js';\nimport \"./Auth.css\";\n\nconst Signup = () => {\n    const navigate = useNavigate();\n    const webcamRef = useRef(null);\n\n    // State for form data and face detection\n    const [formData, setFormData] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n    });\n    const [errors, setErrors] = useState({});\n    const [authStep, setAuthStep] = useState('credentials');\n    const [modelsLoaded, setModelsLoaded] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [faceDetected, setFaceDetected] = useState(false);\n    const [faceRegistered, setFaceRegistered] = useState(false);\n\n    // Load face detection models\n    const loadModels = async () => {\n        const MODEL_URL = '/models';\n        try {\n            await Promise.all([\n                faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\n                faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\n                faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL)\n            ]);\n            return true;\n        } catch (error) {\n            console.error('Error loading models:', error);\n            return false;\n        }\n    };\n\n    useEffect(() => {\n        (async () => {\n            setLoading(true);\n            const success = await loadModels();\n            setModelsLoaded(success);\n            setLoading(false);\n        })();\n\n        return () => {\n            if (webcamRef.current?.video) {\n                const stream = webcamRef.current.video.srcObject;\n                stream?.getTracks().forEach(track => track.stop());\n            }\n        };\n    }, []);\n\n    // Capture and store face descriptor\n    const captureAndStoreFace = async () => {\n        if (!webcamRef.current) return false;\n\n        try {\n            const detections = await faceapi.detectSingleFace(\n                webcamRef.current.video,\n                new faceapi.TinyFaceDetectorOptions()\n            ).withFaceLandmarks().withFaceDescriptor();\n\n            if (detections) {\n                localStorage.setItem('faceDescriptor', JSON.stringify(Array.from(detections.descriptor)));\n                return true;\n            }\n        } catch (error) {\n            console.error('Face capture error:', error);\n        }\n        return false;\n    };\n\n    // Handle input changes and validations (previous implementation)\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n    };\n\n    const validate = () => {\n        const newErrors = {};\n        if (!formData.name.trim()) newErrors.name = \"Name is required.\";\n        if (!formData.email.trim()) {\n            newErrors.email = \"Email is required.\";\n        } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n            newErrors.email = \"Enter a valid email address.\";\n        }\n        if (!formData.password.trim() || formData.password.length < 6) {\n            newErrors.password = \"Password must be at least 6 characters.\";\n        }\n        return newErrors;\n    };\n\n    // Handle credentials submission\n    const handleCredentialsSubmit = (e) => {\n        e.preventDefault();\n        const newErrors = validate();\n        if (Object.keys(newErrors).length > 0) {\n            setErrors(newErrors);\n        } else {\n            setAuthStep('face');\n        }\n    };\n\n    // Handle face registration\n    const handleFaceRegistration = async () => {\n        if (!webcamRef.current?.video || !modelsLoaded) return;\n\n        try {\n            const detections = await faceapi.detectSingleFace(\n                webcamRef.current.video,\n                new faceapi.TinyFaceDetectorOptions()\n            ).withFaceLandmarks().withFaceDescriptor();\n\n            if (detections) {\n                // Explicitly log and store the face descriptor\n                const descriptor = Array.from(detections.descriptor);\n                console.log('Face Descriptor:', descriptor);\n                localStorage.setItem('faceDescriptor', JSON.stringify(descriptor));\n\n                setFaceDetected(true);\n                setFaceRegistered(true);\n\n                // Store user details\n                localStorage.setItem('userDetails', JSON.stringify(formData));\n                localStorage.setItem('token', 'mock-token');\n                localStorage.setItem('userRole', 'user');\n\n                // Navigate to dashboard\n                setTimeout(() => navigate('/dashboard'), 1500);\n            }\n        } catch (error) {\n            console.error('Face registration error:', error);\n        }\n    };\n    // Render different auth steps\n    const renderCredentialsStep = () => (\n        <form onSubmit={handleCredentialsSubmit}>\n            <div className=\"form-group\">\n                <label htmlFor=\"name\">Name</label>\n                <input\n                    type=\"text\"\n                    id=\"name\"\n                    name=\"name\"\n                    placeholder=\"Enter your name\"\n                    value={formData.name}\n                    onChange={handleInputChange}\n                />\n                {errors.name && <small className=\"error-text\">{errors.name}</small>}\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                    type=\"email\"\n                    id=\"email\"\n                    name=\"email\"\n                    placeholder=\"Enter your email\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                />\n                {errors.email && <small className=\"error-text\">{errors.email}</small>}\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                    type=\"password\"\n                    id=\"password\"\n                    name=\"password\"\n                    placeholder=\"Enter your password\"\n                    value={formData.password}\n                    onChange={handleInputChange}\n                />\n                {errors.password && <small className=\"error-text\">{errors.password}</small>}\n            </div>\n            <button className=\"auth-button\" type=\"submit\">\n                Next\n            </button>\n        </form>\n    );\n\n    const renderFaceRegistrationStep = () => (\n        <div className=\"face-registration-container\">\n            <h3>Register Your Face</h3>\n            <div className=\"webcam-container\">\n                <Webcam\n                    ref={webcamRef}\n                    screenshotFormat=\"image/jpeg\"\n                    className=\"webcam\"\n                    onUserMedia={handleFaceRegistration}\n                />\n                {faceDetected && (\n                    <div className={`face-status ${faceRegistered ? 'registered' : ''}`}>\n                        {faceRegistered ? 'Face Registered âœ“' : 'Detecting Face...'}\n                    </div>\n                )}\n            </div>\n            <button\n                className=\"auth-button secondary\"\n                onClick={() => setAuthStep('credentials')}\n            >\n                Back\n            </button>\n        </div>\n    );\n\n    return (\n        <div className=\"auth-container\">\n            <div className=\"auth-card\">\n                <h2>Create an Account</h2>\n                {authStep === 'credentials'\n                    ? renderCredentialsStep()\n                    : renderFaceRegistrationStep()}\n\n                {authStep === 'credentials' && (\n                    <p className=\"auth-footer\">\n                        Already have an account?{\" \"}\n                        <button\n                            className=\"link-button\"\n                            onClick={() => navigate(\"/\")}\n                        >\n                            Log In\n                        </button>\n                    </p>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Signup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}